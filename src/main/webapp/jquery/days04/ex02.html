<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Insert title here</title>
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="http://localhost/webPro/images/SiSt.ico"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="http://localhost/webPro/resources/cdn-main/example.css"
    />
    <script src="http://localhost/webPro/resources/cdn-main/example.js"></script>
    <style>
      span.material-symbols-outlined {
        vertical-align: text-bottom;
      }

      #items-container {
        height: 200px;
        overflow: auto;
        border: 1px solid gray;
        padding: 3px;
      }
    </style>
  </head>
  <body onload="init();">
    <header>
      <h1 class="main">
        <a href="#" style="position: absolute; top: 30px">lsh</a>
      </h1>
      <ul>
        <li><a href="#">로그인</a></li>
        <li><a href="#">회원가입</a></li>
      </ul>
    </header>
    <div>
      <xmp class="code"
>
     js 동적 요소 생성, 추가, 삭제, 수정
     
     생성 : createElement()
     추가 : appendChild(), insertBefore()
     삭제 : removeChild()
     교체 : replaceChild()
     
     있니? : hasChildNodes()
     
     설문조사 : 항목수를 선택하면 -> 입력 텍스트박스 생성
  </xmp
      >

      항목수 :
      <select name="itemCount" id="itemCount">
        <option value="">선택</option>
      </select>
      <br />
      항목 :
      <br />
      <!-- 
  항목 1 : <input type="text"><br>
  항목 2 : <input type="text"><br>
  항목 3 : <input type="text"><br>
  항목 4 : <input type="text"><br>
   -->
    </div>
    <!-- <div id="items-container"></div> -->
    <script>
      /* (2번)*/
      $(document).ready(function () {
        $("#itemCount").on("change", function () {
          const container = $("#items-container");
          let count = $(this).val();
          let htmlString = "";
          for (let i = 1; i <= count; i++) {
            // 3번
            // $("#itemCount").append($(`<option value=${i}>${i}</option>`));

            // 2번
            // htmlString += `항목 ${i} : <input type="text" id="item-${i}" name="item-${i}"><br>`

            // 1qjs
            // const itemElement = document.createElement("div");
            // itemElement.innerHTML = `항목 ${i} : <input type="text"><br>`;
            // container.appendChild(itemElement);
          } //for
          // 2번
          // container.html(htmlString);
        }); //function
      });

      const container = $(`<div id="items-container"></div>`);
      $("body > div").append(container);
      $("#itemCount").on("change", function () {
        // JQuery method empty() : 모든 child element 제거
          container.empty();   
          let count = $(this).val();
            for(let i = 1; i <= count; i++) {
              // container.append(`항목 ${i} : <input type="text" class="long" id="item-${i}" name="item-${i}"><br>`);
              container.prepend(`항목 ${i} : <input type="text" class="long" id="item-${i}" name="item-${i}"><br>`);
              
            }//for
          
      });

      /* (1번)
   document.querySelector("#itemCount").onchange = function(){
      const container = document.querySelector("#items-container");
      
      
      // 지운다. 
      container.innerText = "";
      
      let count = this.options[this.selectedIndex].value;
      
      for (var i = 1; i <= count; i++) {
         
      let itemNo = document.createTextNode(`항목 ${i} : `);
      
      // document.body.appendChild(itemNo);
      container.appendChild(itemNo);
      
      let item = document.createElement("input");
      item.setAttribute("type","text");
      item.setAttribute("id",`item-${i}`);
      item.setAttribute("name",`item-${i}`);
      item.className = "long";
      // document.body.appendChild(item);
      container.appendChild(item);
      
      let br = document.createElement("br");
      // document.body.appendChild(br);
      container.appendChild(br);
      
      } // for
      
   }*/

      function init() {
        // 초기화 작업
        // select > option 15개 추가
        const sel = document.querySelector("#itemCount");

        // 객체 Option() 클래스
        // js Option 객체
        // OptionObj = new Option([text[, value]])
        for (var i = 1; i <= 15; i++) {
          const op = new Option(i, i);
          sel.options[i] = op;
        } // for

        /* 1. 
      for (var i = 1; i <= 15; i++) {
         // <option value="">text</option>
         const op = document.createElement("option");
         op.setAttribute("value", i); // value
         op.innerText = i; // text
         
         sel.appendChild(op);
      } // for
      */
      }
    </script>
  </body>
</html>
