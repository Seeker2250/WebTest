<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Insert title here</title>
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="http://localhost/webPro/images/SiSt.ico"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      div {
        width: 300px;
        height: 100px;
        background-color: yellow;
        border: 1px solid black;
        transform: rotate(45deg);
      }
      div:hover {
        transform: rotate(45deg);
      }
      div:active {
        transform: rotate(45deg);
      }
    </style>
  </head>
  <body>
    <input
      id="rdoClockWise"
      type="radio"
      name="direction"
      value="1"
      checked="checked"
    />
    <label for="rdoClockWise">시계방향</label>
    <input id="rdoReverseClockWise" type="radio" name="direction" value="-1" />
    <label for="rdoReverseClockWise">반시계방향</label>

    <br>
    회전속도 : 
    <input type="range" min="10" max="1000" value="10" />

    <br />

    <button>회전 시작</button>
    <button disabled="disabled">회전 멈춤</button>

    <p>.</p>
    <p>.</p>
    <p>.</p>

    <div>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sit modi eos eum
      facere quod architecto!
    </div>
    <script>
      let angle = 0; //회전 각도
      let timer; //회전 주기
    //   let direction = 1; //회전 방향 : 시계방향
    let direction = document.querySelectorAll("input[type='radio'][name=direction]");
      // 순수 자바스크립트 코드
      document.querySelector("button:first-of-type").onclick = function () {
        // alert("회전 시작 버튼");
        
        for (let i = 0; i < direction.length; i++) {
          if (direction[i].checked) {
            direction = direction[i].value; // 1 or -1
            break;
          }
        } //for
        // alert(direction);

        let speed = document.querySelector("input[type='range']").value;
        timer = setInterval(targetRotate, 1000/speed);        
        // 회전 멈춤 버튼 활성화
        document.querySelector("button:last-of-type").disabled = false;
        // 회전 시작 버튼 비활성화
        this.disabled = true;

        // rotationInterval = setInterval(()=>{
        //   targetRotate();
        // }, 50);

      };


      document.querySelector("button:last-of-type").onclick = function () {
        // alert("회전 멈춤 버튼");
        clearInterval(timer);
        this.disabled = true;
        document.querySelector("button:first-of-type").disabled = false;
      };

      function targetRotate() {
        let target = document.querySelector("div");
        document.querySelector("div").style.transform = `rotate(${angle}deg)`;
        //                      css   transform:rotate(45deg);
        angle += parseInt(direction);
      }

      /*
      let rotationInterval; //회전 주기
      let rotationDegree = 0; //회전 각도
      let direction = 1; //회전 방향 : 시계방향

      $("#rdoClockWise").click(function () {
        direction = 1;
      });

      $("#rdoReverseClockWise").click(function () {
        direction = -1;
      });

      $("button:first").click(function () {
        $(this).prop("disabled", true);
        $("button:last").prop("disabled", false);

        rotationInterval = setInterval(function () {
          rotationDegree += direction;
          $("div").css("transform", "rotate(" + rotationDegree + "deg)");
        }, 50);
      });

      $("button:last").click(function () {
        $(this).prop("disabled", true);
        $("button:first").prop("disabled", false);

        clearInterval(rotationInterval);
      });*/
    </script>
  </body>
</html>
